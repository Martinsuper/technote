# vim使用

> 要使用linux，难以避免修改文件，作为linux下最强大的编辑器，学习vim是必须的，接下来简单介绍下vim的使用

## vim 模式

> vim 常用模式就是命令模式和插入模式，末行模式，命令模式可以通过 <kbd>Esc</kbd> 进入

## 命令模式

> 首先打开vim进入的就是命令模式，命令模式下不能插入内容，可以通过输入 `i`开始插入，如果是插入模式，可以通过按<kbd>Esc</kbd> 进入命令模式

### 插入

* `a` 从当前光标位置右边开始输入下一字符`
* `A`移到光标所在行尾
* `i` 从当前光标所在位置左边插入
* `I`从当前光标所在行的行首开始插入
* `o` 从当前光标所在行新增一行并插入
* `O`从当前光标所在行上方新增一行并进入插入模式

### 移动光标

* `h`,`j`,`k`,`l`控制光标左、下、上、右移动，也可以通过光标移动
* `G` 移动到文件最后一行,`nG` 移动到文件第n行，n代表数字 
* `0` 移动到光标行首，`$` 移动到光标所在行尾

### 删除

* `x` 向后删除一个字符；`nx`，向后删除n个字符
* `dd` 删除所在行，`ndd` 删除n行

### 翻页

* <kbd>Ctrl</kbd> + <kbd>b</kbd> 向上翻页
* <kbd>Ctrl</kbd> + <kbd>f</kbd> 向下翻页

### 复制

* 字符复制：`y`复制光标所在字符，`yw` 复制光标所在处到行尾的字符
* 行复制：`yy` 复制光标所在行，`nyy`，复制光标所在行往下n行

### 粘贴

* 删除和复制内容都放在缓冲区，使用 `p` 粘贴

## 末行模式

> 末行模式就是在命令模式下输入 `：`+相应的命令

* `:w` 保存文件
* `:q`离开
* `:wq`命令可以组合使用，保存并离开vim
* `:q!` 强制退出，不保存修改的内容
* `:set nu` 显示行号
* `:num` num表示数字，跳到指定行
* `:%d` 删除所有内容
* `:$` 跳到行尾
* `:0` 跳到行首
* 替换：`范围/字符串1/字符串2/g`，将文件中指定范围字符串1替换为字符串2，g表示替换不必确认，g改为c，则替换过程中要求确认是否替换，范围使用 `m,ns` 表示从m行到n行，对于整个文件用 `1,$s`

### 多文件操作

* `:r filename,filename2`,可将多个文件内容复制过来
* 同时打开多个文件可以使用 `vim filename1,filename2`,使用 `:next`，`:previous`切换文件