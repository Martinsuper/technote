# 一切都是对象



## 用引用操作对象

​	操纵对象的标识符实际上是对象的一个引用，可以看做是遥控器（引用）来操纵电视（对象），没有电视机，遥控器亦可以独立存在，也就是说你拥有一个引用，并不一定需要有一个对象与它关联。



## 必须由你创建所有对象



### 存储到什么地方

- 寄存器

  位于处理器内部，按需分配，不能直接控制，对于程序是透明的

- 堆栈

  位于通用RAM中，通过堆栈指针可以从处理器那里直接获得支持。堆栈指针向下移动，分配新的内存；向上移动则释放内存，对象引用存在这里

- 堆

  位于RAM中，用于存放所有的Java对象。堆不同于堆栈的好处是：编译器不需要知道存储的数据在堆里存活多久。

- 常量存储

  常量值通常直接存放在程序代码内部，这样做是安全的，以为他们永远都不会被改变。

- 非RAM存储

  如果数据完全存活于程序之外，那么可以不受程序的任何控制，在程序没有运行时也可以存在。

### 特例：基本类型

- new 将对象存储到堆中，故用new创建一个对象，特别小的、简单的变量，往往不是很有效。
- 基本类型具有包装类，使得可以在堆中创建一个非基本对象，用来表示对应的基本类型。
- `BigInteger` 和 `BigDecimal` 没有对应的基本类型。
- `BigInteger` 支持任意精度的整数，可以准确地表示任意大小的整数值，而不会丢失任何信息。
- `BigDecimal` 支持任何精度的定点数

### java中的数组

​	C和C++中的数组就是内存块，如果程序要访问其自身内存块之外的数组，或在数组初始化前使用内存，都会产生难以预料的后果。java确保数组会被初始话，而且不能在它的范围之外被访问。这种范围检查是以每个数组上少量的内存开销及运行时的下标检查为代价的。

​	当创建一个数组对象时，实际上就是创建了一个引用数组，并且每个引用都会被自动初始化为一个特定值，改值拥有自己的关键字null；java一旦看到null，就知道这个引用还没有指向某个对象。在使用任何引用前，必须为其指定一个对象；如果试图使用一个没事null的引用在运行时会报错。

## 永远不需要销毁对象

- 作用域由花括号的位置决定
- java垃圾回收器会自动回收



## 创建新的数据类型：类



### 字段和方法

​	一旦定义了一个类，就可以在类中设置两种类型的元素：字段和方法。若类的某个成员是基本数据类型，即没有进行初始化，java也会确保它获得一个默认值。但是这种默认值的初始化方法并不适用于具备变量。

static 关键字，可以实现不创建对象也能调用方法











